<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="Generator" content="Microsoft Word 15 (filtered)">
<title>FLEXLINK</title>
<link rel="styleSheet" type="text/css" href="TrioHelpStyle.css">
<meta name="keywords" content="FLEXLINK">
</head>
<body>
<h1>FLEXLINK</h1>
<h2>Type:</h2>
<p class="Category">
Axis Command
</p>
<h2>Syntax:</h2>
<p class="fixed">
FLEXLINK(base_dist, excite_dist, link_dist, base_in, base_out,
excite_acc, excite_dec, link_axis, options, start_pos)
</p>
<h2>Description</h2>
<p>
The FLEXLINK command is used to generate movement of an axis
according to a defined profile. The motion is linked to the measured motion of
another axis. The profile is made up of 2 parts, the base move and the
excitation move both of which are specified in the parameters. The base move is
a constant speed movement. The excitation movement uses sinusoidal or
alternative profile and is applied on top of the base movement. 
</p>
<p>
<img width="302" height="227" id="Picture 1" src="FLEXLINK_files/image001.png">
</p>
<p class="tip">
This command allows you to simplify a 
<a href="CAMBOX.html">CAMBOX</a>

type movement through not having to use any table data. 
</p>
<h2>Parameters:</h2>
<table class="tablegrid">

 
<tr>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
base_dist:
</p>

  
</td>
<td width="513" colspan="2" valign="top" class="tablegrid">

  
<p class="tablecontent">
The distance the axis should move at a constant speed
</p>

  
</td>
</tr>

 
<tr>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
excite_dist:
</p>

  
</td>
<td width="513" colspan="2" valign="top" class="tablegrid">

  
<p class="tablecontent">
The distance the axis should perform the profiled move
</p>

  
</td>
</tr>

 
<tr>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
link_dist:
</p>

  
</td>
<td width="513" colspan="2" valign="top" class="tablegrid">

  
<p class="tablecontent">
The distance the link axis should move while the
  FLEXLINK profile executes
</p>

  
</td>
</tr>

 
<tr>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
base_in:
</p>

  
</td>
<td width="513" colspan="2" valign="top" class="tablegrid">

  
<p class="tablecontent">
The percentage of the base move time that completes
  before the excitation move starts
</p>

  
</td>
</tr>

 
<tr>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
base_out:
</p>

  
</td>
<td width="513" colspan="2" valign="top" class="tablegrid">

  
<p class="tablecontent">
The percentage of the base move time that completes
  after the excitation move completes. 
</p>

  
</td>
</tr>

 
<tr>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
excite_acc:
</p>

  
</td>
<td width="513" colspan="2" valign="top" class="tablegrid">

  
<p class="tablecontent">
The percentage of the excitation move time used for
  acceleration
</p>

  
</td>
</tr>

 
<tr>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
excite_dec:
</p>

  
</td>
<td width="513" colspan="2" valign="top" class="tablegrid">

  
<p class="tablecontent">
The percentage of the excitation move time used for
  deceleration. 
</p>

  
</td>
</tr>

 
<tr>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
link_axis:
</p>

  
</td>
<td width="513" colspan="2" valign="top" class="tablegrid">

  
<p class="tablecontent">
The axis to link to.
</p>

  
</td>
</tr>

 
<tr>
<td rowspan="14" valign="top" class="tablegrid">

  
<p class="tablecontent">
link_options:
</p>

  
</td>
<td width="513" colspan="2" valign="top" class="tablegrid">

  
<p class="tablecontent">
Bit value options to customise how FLEXLINK operates
</p>

  
</td>
</tr>

 
<tr>
<td width="67" valign="top" class="tablegrid">

  
<p class="tablecontent">
Bit 0
</p>

  
</td>
<td width="446" valign="top" class="tablegrid">

  
<p class="tablecontent">
link commences exactly when registration event 
<a href="MARK.html">MARK</a>
 occurs on link axis
</p>

  
</td>
</tr>

 
<tr>
<td width="67" valign="top" class="tablegrid">

  
<p class="tablecontent">
Bit 1
</p>

  
</td>
<td width="446" valign="top" class="tablegrid">

  
<p class="tablecontent">
link commences at an absolute position on link axis
  (see link_pos for start position)
</p>

  
</td>
</tr>

 
<tr>
<td width="67" valign="top" class="tablegrid">

  
<p class="tablecontent">
Bit 2
</p>

  
</td>
<td width="446" valign="top" class="tablegrid">

  
<p class="tablecontent">
FLEXLINK repeats automatically and bi-directionally
  when this bit is set. (This mode can be cleared by setting bit 1 of the 
<a href="REP_OPTION.html">REP_OPTION</a>
<span class="MsoHyperlink"> </span>axis
  parameter)
</p>

  
</td>
</tr>

 
<tr>
<td width="67" valign="top" class="tablegrid">

  
<p class="tablecontent">
Bit 3
</p>

  
</td>
<td width="446" valign="top" class="tablegrid">

  
<p class="tablecontent">
Reserved (see CAMBOX)
</p>

  
</td>
</tr>

 
<tr>
<td width="67" valign="top" class="tablegrid">

  
<p class="tablecontent">
Bit 4
</p>

  
</td>
<td width="446" valign="top" class="tablegrid">

  
<p class="tablecontent">
Reserved (see MOVELINK)
</p>

  
</td>
</tr>

 
<tr>
<td width="67" valign="top" class="tablegrid">

  
<p class="tablecontent">
Bit 5
</p>

  
</td>
<td width="446" valign="top" class="tablegrid">

  
<p class="tablecontent">
Link is only active during a positive move on the link
  axis
</p>

  
</td>
</tr>

 
<tr>
<td width="67" valign="top" class="tablegrid">

  
<p class="tablecontent">
Bit 6
</p>

  
</td>
<td width="446" valign="top" class="tablegrid">

  
<p class="tablecontent">
Reserved
</p>

  
</td>
</tr>

 
<tr>
<td width="67" valign="top" class="tablegrid">

  
<p class="tablecontent">
Bit 7
</p>

  
</td>
<td width="446" valign="top" class="tablegrid">

  
<p class="tablecontent">
Reserved (see CAMBOX)
</p>

  
</td>
</tr>

 
<tr>
<td width="67" valign="top" class="tablegrid">

  
<p class="tablecontent">
Bit 8
</p>

  
</td>
<td width="446" valign="top" class="tablegrid">

  
<p class="tablecontent">
link commences exactly when registration event 
<a href="MARKB.html">MARKB</a>
 occurs on link axis
</p>

  
</td>
</tr>

 
<tr>
<td width="67" valign="top" class="tablegrid">

  
<p class="tablecontent">
Bit 9
</p>

  
</td>
<td width="446" valign="top" class="tablegrid">

  
<p class="tablecontent">
link commences exactly when registration event 
<a href="R_MARK.html">R_MARK</a>
 occurs on link axis. (See link_pos for channel
  number)
</p>

  
</td>
</tr>

 
<tr>
<td width="67" valign="top" class="tablegrid">

  
<p class="tablecontent">
Bits 10…12
</p>

  
</td>
<td width="446" valign="top" class="tablegrid">

  
<p class="tablecontent">
Contains a 3-bit integer value that represents the type
  of curve for the acceleration/deceleration phase.
</p>

  
<p class="tablecontent">
Note that, unlike MOVELINK, bit 4 does not have to be
  set to use this setting).
</p>

  
<p>
0 – Sine curve
<br>

  1 – Polynomial power 9 in speed
<br>

  2 – Polynomial power 7 in speed
<br>

  3 – Polynomial power 5 in speed
<br>

  4 – Linear ramp
<br>

  5..7 – Unused
</p>

  
</td>
</tr>

 
<tr>
<td width="67" valign="top" class="tablegrid">

  
<p class="tablecontent">
Bit 13
</p>

  
</td>
<td width="446" valign="top" class="tablegrid">

  
<p class="tablecontent">
Slave axis follows master axis DPOS (otherwise MPOS)
</p>

  
</td>
</tr>

 
<tr>
<td width="67" valign="top" class="tablegrid">

  
<p class="tablecontent">
Bit 14
</p>

  
</td>
<td width="446" valign="top" class="tablegrid">

  
<p class="tablecontent">
Link is active during positive movement from a
  threshold. The threshold is updated to the highest positive value.
</p>

  
</td>
</tr>

 
<tr>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
link_pos:
</p>

  
</td>
<td width="513" colspan="2" valign="top" class="tablegrid">

  
<p class="tablecontent">
link_option bit 1 - the absolute position on the link
  axis in user 
<a href="UNITS.html">UNITS</a>
 where the FLEXLINK is to start. 
</p>

  
<p>
link_option bit 9 – the registration channel to start the
  movement on
</p>

  
</td>
</tr>


</table>
<p class="note">
The link_dist is in the user units of the link axis and should
always be specified as a positive distance.
</p>
<p class="note">
The link options for start (bits 1, 2, 8 and 9) may be combined
with the link options for repeat (bits 4 and 8) and direction.
</p>
<p class="note">
start_pos cannot be at or within one servo period’s worth of
movement of the REP_DIST position.
</p>
<h2>Examples:</h2>
<h3>Example 1:</h3>
<p>
Suppose you want a smooth curve for 40% of a cycle and to
remain stationary for the remainder:
</p>
<p class="codeexample">
FLEXLINK(0, 10000, 20000, 60, 0, 50, 50, 1)
</p>
<p>
In this example the move length is 10000 and this is linked
to 20000 distance on the link axis (1). The axis is stationary for 60% of the
cycle and the move is 50% accel/50% decel.
</p>
<h3>Example 2:</h3>
<p>
Suppose you want a 1:1 background link but to advance 500
using a smooth curve between 80% and 95% of a cycle:
</p>
<p class="codeexample">
FLEXLINK(10000, 500, 10000, 80, 5, 50, 50, 1)
</p>
<p>
In this example the base move length is 10000 and this is
linked to 10000 distance on the link axis (1).&nbsp;The excite distance is 500
and this starts after &nbsp;80% of the cycle, with 5% at the end also clear of
excitation. The “excite” move is 50% accel/50% decel.
</p>
</body>
</html>
