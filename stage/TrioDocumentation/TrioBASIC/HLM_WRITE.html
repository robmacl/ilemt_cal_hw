<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="Generator" content="Microsoft Word 15 (filtered)">
<title>HLM_WRITE</title>
<link rel="styleSheet" type="text/css" href="TrioHelpStyle.css">
<meta name="keywords" content="HLM_WRITE">
</head>
<body>
<h1>HLM_WRITE</h1>
<h2>Type:</h2>
<p class="Category">
Hostlink Parameter
</p>
<h2>Syntax:</h2>
<p class="fixed">
HLM_WRITE(port, node, pc_area, pc_offset, length, mc_area, mc_offset)
</p>
<h2>Description:</h2>
<p>
The HLM_WRITE command writes data from the MC Unit to a Host
Link Slave by sending a Host Link command string containing the specified node
of the Slave to the serial port. The received response data will be written
from either 
<a href="VR.html">VR</a>
 or Table variables. Each variable will
define on word of data which will be transferred. The maximum data length is 29
words (single frame transfer). Program execution will be paused until the
response string has been received or the timeout time has elapsed. The timeout
time is specified by using the 
<a href="HLM_TIMEOUT.html">HLM_TIMEOUT</a>

parameter. The status of the transfer can be monitored with the 
<a href="HLM_STATUS.html">HLM_STATUS</a>
 parameter.
</p>
<h2>Parameters:</h2>
<table class="tablegrid">

 
<tr>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
port:
</p>

  
</td>
<td colspan="4" valign="top" class="tablegrid">

  
<p class="tablecontent">
The specified serial port (see specific controller
  specification for numbers).
</p>

  
</td>
</tr>

 
<tr>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
node:
</p>

  
</td>
<td colspan="4" valign="top" class="tablegrid">

  
<p class="tablecontent">
The Slave node number to send the Host Link command to.
  Range: [0, 31].
</p>

  
</td>
</tr>

 
<tr>
<td rowspan="9" valign="top" class="tablegrid">

  
<p class="tablecontent">
pc_area:
</p>

  
</td>
<td colspan="4" valign="top" class="tablegrid">

  
<p class="tablecontent">
The PC memory selection for the Host Link command.
</p>

  
</td>
</tr>

 
<tr>
<td colspan="2" valign="top" class="tablegrid">

  
<p class="tablecontent">
<b>pc_area</b></p>

  
</td>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
<b>data area</b></p>

  
</td>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
<b>Hostlink command</b></p>

  
</td>
</tr>

 
<tr>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
PLC_DM
</p>

  
</td>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
0
</p>

  
</td>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
DM
</p>

  
</td>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
RD
</p>

  
</td>
</tr>

 
<tr>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
PLC_IR
</p>

  
</td>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
1
</p>

  
</td>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
CIO/IR
</p>

  
</td>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
RR
</p>

  
</td>
</tr>

 
<tr>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
PLC_LR
</p>

  
</td>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
2
</p>

  
</td>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
LR
</p>

  
</td>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
RL
</p>

  
</td>
</tr>

 
<tr>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
PLC_HR
</p>

  
</td>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
3
</p>

  
</td>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
HR
</p>

  
</td>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
RH
</p>

  
</td>
</tr>

 
<tr>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
PLC_AR
</p>

  
</td>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
4
</p>

  
</td>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
AR
</p>

  
</td>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
RJ
</p>

  
</td>
</tr>

 
<tr>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
PLC_EM
</p>

  
</td>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
6
</p>

  
</td>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
EM
</p>

  
</td>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
RE
</p>

  
</td>
</tr>

 
<tr>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
PLC_REFRESH
</p>

  
</td>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
7
</p>

  
</td>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
&nbsp;
</p>

  
</td>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
&nbsp;
</p>

  
</td>
</tr>

 
<tr>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
pc_offset:
</p>

  
</td>
<td colspan="4" valign="top" class="tablegrid">

  
<p class="tablecontent">
The address of the specified PC memory area to write
  to. Range: [0, 9999].
</p>

  
</td>
</tr>

 
<tr>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
length:
</p>

  
</td>
<td colspan="4" valign="top" class="tablegrid">

  
<p class="tablecontent">
The number of words of data to be transferred. Range:
  [1, 30].
</p>

  
</td>
</tr>

 
<tr>
<td rowspan="3" valign="top" class="tablegrid">

  
<p class="tablecontent">
mc_area:
</p>

  
</td>
<td colspan="4" valign="top" class="tablegrid">

  
<p class="tablecontent">
The MC Unit's memory selection to read the data from.
</p>

  
</td>
</tr>

 
<tr>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
MC_TABLE
</p>

  
</td>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
8
</p>

  
</td>
<td colspan="2" valign="top" class="tablegrid">

  
<p class="tablecontent">
Table variable array
</p>

  
</td>
</tr>

 
<tr>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
MC_VR
</p>

  
</td>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
9
</p>

  
</td>
<td colspan="2" valign="top" class="tablegrid">

  
<p class="tablecontent">
Global (VR) variable array
</p>

  
</td>
</tr>

 
<tr>
<td valign="top" class="tablegrid">

  
<p class="tablecontent">
mc_offset:
</p>

  
</td>
<td colspan="4" valign="top" class="tablegrid">

  
<p class="tablecontent">
The address of the specified MC Unit memory area to
  read from. 
</p>

  
</td>
</tr>


</table>
<p class="note">
When using the HLM_WRITE, be sure to set-up the Host Link Master
protocol by using the SETCOM command.
</p>
<p class="note">
The Host Link Master commands are required to be executed from
one program task only to avoid any multi-task timing problems.
</p>
<h2>Example:</h2>
<p>
The following example shows how to write 25 words from MC
Unit's VR addresses 200-224 to the PC EM area addresses 50-74. The PC has Slave
node address 28 and is connected to the RS-232C port.
</p>
<p class="codeexample">
HLM_WRITE(1, 28, PLC_EM, 50, 25, MC_VR, 200)
</p>
<p>
&nbsp;
</p>
<p>
&nbsp;
</p>
</body>
</html>
